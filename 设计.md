#### 搜索功能

​	**用于设定当前局面下的一些参数，针对性搜索。**



+ 指定必须包含的弈子
  + 例如当前有某些弈子，希望硬玩
+ 设定弈子加权
  + 例如有某弈子但又不要求必须包含，可以提升显示优先级
  + 亦可以主观认为某弈子很弱，降低其优先级
  + 此权重是在基本的弈子权重上额外加成
+ 设定不玩某弈子
  + 可以排除例如小怪兽训练师等单独羁绊
  + 或者就是不想玩某些弈子
+ 设定必选羁绊
  + 可以设置必有某羁绊且至少达到某等级
+ 设定不选羁绊
+ 纹章
  + 可以输入已经获取的纹章，更好的拼多多
+ 额外羁绊
  + 海克斯xx之心，直接视为有一个额外的某单位
  + 或者是纹章假人，虽然是纹章但性质和xx之心等效
+ 海克斯
  + 例如星守强化，奥德赛强化等，可以提高羁绊权重，或者搜索逻辑，如大宗师
+ 巨像
  + 减少人口
+ 冠冕
  + 提升人口
+ 当前装备
  + 方便适配物C，法C等阵容



#### 弈子属性

​	**弈子的基本属性，只和版本有关**

+ 权重
  + 表示弈子的基本强度，主观设定一个值，可正可负
+ 定位
  + 法
    + 法术输出，包括后排，法战，法刺
  + 物
    + 同上，但是物理输出
  + 坦
    + 能抗得住的都叫坦
  + 挂件
    + 当不了前面的就是挂件，别的也可以是挂件，但挂件只能是挂件
+ 费用
+ 



#### 羁绊属性

​	**羁绊的基本属性，只和版本有关**

+ 羁绊等级
  + 例如战斗学院为3 5 7
+ 精确等于
  + 例如大宗师要求必须恰好1或4
+ 权重
  + 每个等级六个，表示 队内/队外+物/法/坦 强度

#### 阵容打分

​	给每个阵容进行一个自动评分，大致筛选出较强的阵容，让较弱的阵容排到后面

+ 弈子组合
  + 必须有坦有C，否则扣大分
  + 有两个坦，加小分（\*1.05）

+ 节奏
  + 核心牌最好集中在同费用或者相邻费用，同费用加分，相邻费用不扣分，否则扣分，挂件随意
+ 弈子强度
  + 基本配置强度
  + 查询配置额外加权
+ 羁绊配合
  + 给C或者坦加羁绊的
+ 弈子阶位
  + 高人口的低费卡主C主坦扣分，个别特别强的（如盖伦）可以靠弈子强度设定补偿
  + 低人口下有高费弈子的扣分，但如果已经有了，可以靠必选弈子或者弈子加权来手动调整
+ 装备情况
  + 可以指定 物装/法装/肉装/通用装备件数，成装算两件，散件算一件，神器和光明装也都算两件，不额外计，纹章不在此列，单独指定。
  + 如果没有指定装备情况，默认按照有特定数量的装备来计算
  + 如果指定了装备情况，则按照指定情况打分。
    + 

​	

+ 总分打分规则

  枚举弈子定位，在法C中找到主法C/副法C，在物C中找到主物C和副物C，坦中找到主坦和副坦，然后计算阵容总分，最后找到一种定位方法使得总分最大。

  + 装备适配分      
    + 对主C，主坦，是$1+0.6[n\geq2]+0.8[n\geq4]+1.0[n\geq6]$
    + 对副C，副坦，是$1+0.5[n\geq 8]+0.5[n\geq 10]+0.5[n\geq 12]$
  + 羁绊分
    + 对任何定位的弈子，是$1+\prod_{羁绊}(1+羁绊加成)$
  + 弈子打分=基本分\*(1+弈子强度分)\*(装备适配分)\*(羁绊分)*(1+阶位等级适配分)
  + 阵容总分=所有弈子打分之和\*(1+弈子组合分)\*(1+节奏分)
  + 
